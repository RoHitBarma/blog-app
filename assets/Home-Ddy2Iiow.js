import{r as n,u as m,j as s,c as u,a as T,d as y,L as $}from"./index-CNBvs_AB.js";const N=n.forwardRef(({className:a,bsPrefix:e,as:t="div",...d},r)=>(e=m(e,"card-body"),s.jsx(t,{ref:r,className:u(a,e),...d})));N.displayName="CardBody";const C=n.forwardRef(({className:a,bsPrefix:e,as:t="div",...d},r)=>(e=m(e,"card-footer"),s.jsx(t,{ref:r,className:u(a,e),...d})));C.displayName="CardFooter";const v=n.forwardRef(({bsPrefix:a,className:e,as:t="div",...d},r)=>{const o=m(a,"card-header"),l=n.useMemo(()=>({cardHeaderBsPrefix:o}),[o]);return s.jsx(T.Provider,{value:l,children:s.jsx(t,{ref:r,...d,className:u(e,o)})})});v.displayName="CardHeader";const B=n.forwardRef(({bsPrefix:a,className:e,variant:t,as:d="img",...r},o)=>{const l=m(a,"card-img");return s.jsx(d,{ref:o,className:u(t?`${l}-${t}`:l,e),...r})});B.displayName="CardImg";const w=n.forwardRef(({className:a,bsPrefix:e,as:t="div",...d},r)=>(e=m(e,"card-img-overlay"),s.jsx(t,{ref:r,className:u(a,e),...d})));w.displayName="CardImgOverlay";const k=n.forwardRef(({className:a,bsPrefix:e,as:t="a",...d},r)=>(e=m(e,"card-link"),s.jsx(t,{ref:r,className:u(a,e),...d})));k.displayName="CardLink";const H=y("h6"),S=n.forwardRef(({className:a,bsPrefix:e,as:t=H,...d},r)=>(e=m(e,"card-subtitle"),s.jsx(t,{ref:r,className:u(a,e),...d})));S.displayName="CardSubtitle";const L=n.forwardRef(({className:a,bsPrefix:e,as:t="p",...d},r)=>(e=m(e,"card-text"),s.jsx(t,{ref:r,className:u(a,e),...d})));L.displayName="CardText";const O=y("h5"),R=n.forwardRef(({className:a,bsPrefix:e,as:t=O,...d},r)=>(e=m(e,"card-title"),s.jsx(t,{ref:r,className:u(a,e),...d})));R.displayName="CardTitle";const I=n.forwardRef(({bsPrefix:a,className:e,bg:t,text:d,border:r,body:o=!1,children:l,as:h="div",...f},p)=>{const x=m(a,"card");return s.jsx(h,{ref:p,...f,className:u(e,x,t&&`bg-${t}`,d&&`text-${d}`,r&&`border-${r}`),children:o?s.jsx(N,{children:l}):l})});I.displayName="Card";const j=Object.assign(I,{Img:B,Title:R,Subtitle:S,Body:N,Link:k,Text:L,Header:v,Footer:C,ImgOverlay:w}),A=({blog:a,onDelete:e})=>{const[t,d]=n.useState(0),[r,o]=n.useState(0),l=()=>{d(t+1)},h=()=>{o(r+1)};return s.jsx("div",{children:s.jsx(j,{className:"h-100 shadow-sm w-100",children:s.jsxs(j.Body,{className:"d-flex flex-column",children:[s.jsx(j.Title,{children:a.title}),s.jsx(j.Text,{className:"flex-grow-1",children:a.description>100?a.description.slice(0,80)+"...":a.description}),s.jsxs("p",{className:"d-flex justify-content-between text-muted small mb-0",children:[s.jsxs("span",{children:["By ",s.jsx("strong",{children:a.author})," "]}),s.jsxs("span",{children:["Date: ",s.jsx("strong",{children:a.date})," "]})]}),s.jsxs("div",{className:"d-flex mt-3 justify-content-between",children:[s.jsxs("button",{className:"reaction-btn",variant:"outline-success",onClick:l,children:["👍 ",t]}),s.jsxs("button",{className:"reaction-btn",variant:"outline-danger",onClick:h,children:["👎 ",r]}),s.jsx($,{to:`/blog/${a.id}`,className:"btn btn-primary",children:"Read More"})]}),a.isUser&&s.jsx("button",{onClick:()=>e(a.id),className:"btn btn-sm btn-danger mt-2",children:"Delete"})]})})})},F=()=>{const[a,e]=n.useState([]),[t,d]=n.useState(!0),[r,o]=n.useState([]),[l,h]=n.useState(1),f=6;n.useEffect(()=>{const c=JSON.parse(localStorage.getItem("userBlogs"))||[];o(c),fetch("https://jsonplaceholder.typicode.com/posts").then(i=>i.json()).then(i=>{e(i),d(!1)}).catch(i=>{console.log("Error fatching blogs:",i),d(!1)})},[]);const p=c=>{const i=r.filter(D=>D.id!==c);o(i),localStorage.setItem("userBlogs",JSON.stringify(i))},x=[...r,...a],g=x.slice(0,15+f*(l-1));return s.jsxs("div",{className:"container",children:[s.jsx("h2",{children:"Latest Blogs (API)"}),t&&s.jsx("p",{children:"Loading Blogs"}),s.jsxs("div",{className:"row g-4",children:[g.map(c=>s.jsx("div",{className:"col-12 col-md-6 col-lg-4 d-flex",children:s.jsx(A,{blog:{...c,isUser:r.some(i=>i.id===c.id),title:c.title,description:c.description||c.body,author:c.author||`Author ${c.userId}`,date:c.date||"15/7/2025"},onDelete:p})},c.id)),!t&&g.length<x.length&&s.jsx("div",{className:"text-center my-4",children:s.jsx("button",{className:"btn btn-primary",onClick:()=>h(c=>c+1),children:"Load More Blogs"})})]})]})};export{F as default};
